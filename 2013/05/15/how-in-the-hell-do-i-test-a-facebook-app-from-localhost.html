<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8">
    <title>Addam Hardy [How In The Hell Do I Test A Facebook App From localhost?]</title>
    
    <meta name="author" content="Addam Hardy">

    <link href="/assets/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <link href="/css/style.css" rel="stylesheet" type="text/css" media="all">
		<script src="//ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
    <script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>

  </head>

  <body>
    <div class="navbar">
      <div class="navbar-inner">
        <div class="container">
          <a class="brand" href="/">addamhardy.com</a>
          <ul class="nav">
            
              <li id="blog">
            
              <a href="/blog">Blog</a>
            </li>

            
              <li id="pgp">
            
              <a href="/pgp">PGP</a>
            </li>

            
              <li id="euler">
            
              <a href="/project-euler-solutions">Project Euler</a>
            </li>

            <!-- 
              <li id="projects">
            
              <a href="/projects">Projects</a>
            </li> -->

            
              <li id="about">
            
              <a href="/about">About Me</a>
            </li>

            
              <li id="talks">
            
              <a href="/talks">Talks</a>
            </li>

          </ul>
        </div>
      </div>
    </div>

    <div class="container">

      <div class="content">
        <div class="post">

  <header class="post-header">
    <h1 class="post-title">How In The Hell Do I Test A Facebook App From localhost?</h1>
    <p class="post-meta">May 15, 2013</p>
  </header>

  <article class="post-content">
    <p>So no shit, there you are, building a web app that is using the Facebook SDK/API. You’ve followed all the integration tutorials. You’ve got all the code in place. You’re ready to go. You fire up the Sidekiq and your Rails server with Foreman, and you finally click on your pretty little Facebook login button. And then…<!--more--></p>

<p><img src="/assets/images/facebook-localhost/localhost-error-noauth.png" /></p>

<hr />

<h2 id="doh-right">DOH, right?</h2>

<p>Then you want to punch yourself. Why didn’t I put localhost into the app domains? I better go ahead and do that. You log into Facebook and put localhost in there. And then…</p>

<p><img src="/assets/images/facebook-localhost/localhost-error.png" /></p>

<hr />

<h2 id="ok-facebook-so-what-the-hell-do-i-do-then">Ok Facebook… So WHAT THE HELL DO I DO THEN?</h2>

<p>Scratched my head for a few minutes. Started thinking about how soon until it was drinking time, and then had a thought. Why not just locally redirect the production URL to my machine? The app will then send requests with a production URL referrer and will be authorized by Facebook’s dumb ass security schemes. (Ok maybe not dumbass but certainly inconvenient. I’m trying to work here!)</p>

<p>Solution:</p>

<ul>
  <li>Add the production URL to your /etc/hosts file and redirect back to localhost</li>
</ul>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">/etc/hosts
<span class="c">##</span>
<span class="c"># Host Database</span>
<span class="c">#</span>
<span class="c"># localhost is used to configure the loopback interface</span>
<span class="c"># when the system is booting.  Do not change this entry.</span>
<span class="c">##</span>
127.0.0.1         localhost
255.255.255.255   broadcasthost
::1               localhost
fe80::1%lo0       localhost
127.0.0.1 app.btiques.com</code></pre></div>

<p>After you change your hosts file on a Mac you always have to flush the cache and force OSX to re-query the DNS servers. Run this command and you should be good to go.</p>

<div class="highlight"><pre><code class="language-bash" data-lang="bash">Run this to clear your cache
dscacheutil -flushcache</code></pre></div>

<p>Now, have a beer and relax before you kill somebody. This shit can get stressful.</p>

  </article>

  
    <section>
      <h1>Comments</h1>
      <div id="disqus_thread" aria-live="polite"></div>
    </section>
  

  
  
  <script type="text/javascript">
        var disqus_shortname = 'addamhardy';
        
          
          // var disqus_developer = 1;
          var disqus_identifier = 'http://addamhardy.com/2013/05/15/how-in-the-hell-do-i-test-a-facebook-app-from-localhost.html';
          var disqus_url = 'http://addamhardy.com/2013/05/15/how-in-the-hell-do-i-test-a-facebook-app-from-localhost.html';
          var disqus_script = 'embed.js';
        
      (function () {
        var dsq = document.createElement('script'); dsq.type = 'text/javascript'; dsq.async = true;
        dsq.src = 'http://' + disqus_shortname + '.disqus.com/' + disqus_script;
        (document.getElementsByTagName('head')[0] || document.getElementsByTagName('body')[0]).appendChild(dsq);
      }());
  </script>
  


</div>

      </div>

      <footer>
        <p>&copy; Addam Hardy 2012-2015
        </p>
      </footer>

    </div> <!-- /container -->


  </body>
	<script type="text/javascript">

	  var _gaq = _gaq || [];
	  _gaq.push(['_setAccount', 'UA-30687512-1']);
	  _gaq.push(['_setDomainName', 'addamhardy.com']);
	  _gaq.push(['_trackPageview']);

	  (function() {
	    var ga = document.createElement('script'); ga.type = 'text/javascript'; ga.async = true;
	    ga.src = ('https:' == document.location.protocol ? 'https://ssl' : 'http://www') + '.google-analytics.com/ga.js';
	    var s = document.getElementsByTagName('script')[0]; s.parentNode.insertBefore(ga, s);
	  })();

	</script>
</html>

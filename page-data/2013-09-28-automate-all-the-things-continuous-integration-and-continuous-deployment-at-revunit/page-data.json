{"componentChunkName":"component---gatsby-theme-code-notes-src-templates-note-js","path":"/2013-09-28-automate-all-the-things-continuous-integration-and-continuous-deployment-at-revunit","result":{"data":{"mdx":{"body":"function _extends() { _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\n/* @jsxRuntime classic */\n\n/* @jsx mdx */\nvar _frontmatter = {\n  \"emoji\": \"✏️\",\n  \"title\": \"Automate All The Things: Continuous Integration and Deployment at RevUnit\",\n  \"modified\": \"2013-09-28T00:00:00.000Z\",\n  \"comments\": true,\n  \"categories\": null,\n  \"tags\": [\"CI\", \"process\", \"travis ci\"]\n};\nvar layoutProps = {\n  _frontmatter: _frontmatter\n};\nvar MDXLayout = \"wrapper\";\nreturn function MDXContent(_ref) {\n  var components = _ref.components,\n      props = _objectWithoutProperties(_ref, [\"components\"]);\n\n  return mdx(MDXLayout, _extends({}, layoutProps, props, {\n    components: components,\n    mdxType: \"MDXLayout\"\n  }), mdx(\"p\", null, \"We are strong believers in the agile method of software development. We break down key features into user stories, do sprint planning, track velocity, unit and integration testing; all that good stuff. But we\\u2019ve had a few key pillars of agile development missing for a while and we recently rectified that. RevUnit\\u2019s process now fully incorporates continuous integration and continuous deployment. This enables us to automate more of our process which frees us up to focus on the important things \\u2014 like implementing and shipping features!\"), mdx(\"h2\", {\n    \"id\": \"automate-all-the-things\"\n  }, \"Automate all the things!\"), mdx(\"p\", null, \"Automating your workflow is vital for a streamlined development process. There are so many small tasks that a developer has to do in addition to their core duties that it can really drain not only the time the developer has but also their focus on the more important tasks at hand. With so much to do just to enable the ability to do the things we have to do, how do we get anything done at all?\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"\\\"Progress isn\\u2019t made by early risers. It\\u2019s made by lazy men trying to find easier ways to do something.\\\" - Robert A. Heinlein\")), mdx(\"p\", null, \"All development organizations should have the mindset of automating their workflow but it is especially important for smaller start ups. You\\u2019re not going to have a QA team or a deployment team. You have one team to do all the things. There are many ways to automate your workflow. We even have a chat bot in our company chatroom that can interface with our GitHub repositories, our project planning system, our production error reporting system, as well as many other integrated systems we use for our planning and development workflow end to end. It even has automated photos of kitties or animated gifs for when we are feeling down.\"), mdx(\"img\", {\n    \"src\": \"http://media.tumblr.com/8d186ad810c901ac2f826780a395a4a1/tumblr_inline_mtp64v3iQP1qze6ud.jpg\",\n    \"alt\": \"Kitty\"\n  }), mdx(\"p\", null, \"Specifically for this post, I\\u2019ll talk about how we automated our integration testing and deployment using Continuous Integration and Continuous Deployment.\"), mdx(\"h2\", {\n    \"id\": \"what-is-continuous-integration\"\n  }, \"What Is Continuous Integration?\"), mdx(\"p\", null, \"Continuous Integration is a software development practice where members of a team integrate their work frequently. This integration is trigged by every push of new commits to GitHub. Each time a developer pushes new code to GitHub our CI system clone\\u2019s that branch and runs all of the entire unit and integration test suite.\"), mdx(\"p\", null, \"This is all done automatically on a post-receive hook on GitHub without any manual intervention from a developer. This enables the team to rapidly find integration errors or regression failures in the test suite. This tightens the feedback loop and not only enables more defect free code, but greatly speeds up our process.\"), mdx(\"p\", null, \"Developer A may have a completely green (passing) test suite on their local machine at the same time that Developer B also has a completely green test suite on their machine. Without this continuous integration process, the tests from those separate developers would not be run together (integration testing) until further down the line; and even then by some manual intervention by a developer.\"), mdx(\"p\", null, \"The instance where CI really shines is in rapidly exposing regression failures. Without a thorough test suite and CI, a feature that was complete in week 2 of development and was destroyed by a feature that was completed in week 12 of development will never be exposed until the very end in a formal QA process. Obviously that is less than ideal. We need to know about defects immediately or it could really derail the speed and fluidity of our process and our ability to quickly deliver results to a client. This is especially important for defects in features that we already completed and tested thoroughly.\"), mdx(\"h2\", {\n    \"id\": \"what-is-continuous-deployment\"\n  }, \"What Is Continuous Deployment?\"), mdx(\"p\", null, \"So we\\u2019ve automated our integration testing and building, what\\u2019s the final step? Deployment. This step of the process can take the longest time depending on the complexity of your application. I\\u2019ve even worked in a large corporate environment wherein if you wanted a deployment to the staging servers you had to contact a deployment team which could take up to a week to finally get deployed. That\\u2019s crazy!\"), mdx(\"p\", null, \"Traditionally you plan development which leads into testing and QA which ultimately leads into a planned deployment. You need this planned/tiered (WATERFALL!) approach to development and release when you don\\u2019t have CI or even further don\\u2019t have any unit or integration tests. You don\\u2019t want to deploy an app that you\\u2019re not positive is working 100% as it should. Someone call the QA team and tell them we\\u2019re ready! Ain\\u2019t nobody got time for that.\"), mdx(\"p\", null, \"At this point we\\u2019ve ensured the integrity of our application through ongoing continuous integration. So what is stopping us from automating the final step? Continuous Deployment (sometimes referred to as Continuous Delivery) fills in this gap.\"), mdx(\"p\", null, \"Continuous Deployment (CD) is a software development practice that triggers an automated deployment of the application after passing all tests and builds in the continuous integration process. This means that as soon as a build is successful on the staging branch, it is automatically deployed to the staging application. Enabling the client to see the most up-to-date feature complete code at any given time. This should happen several times a day. You can take it even further to automate your deployments to production! Once a feature has gone through local unit testing, code review in a pull request, and multiple integration builds through CI, you can push it directly to your production servers giving your users immediate benefit rather than waiting for weekly or biweekly planned and scheduled deployments. Your calendar shouldn\\u2019t have anything to do with shipping features to your users. Ship it early and ship it often.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"Your calendar shouldn\\u2019t have anything to do with shipping features to your users.\")), mdx(\"p\", null, \"GitHub is fantastic at this and reported that their busiest day yet (as of a blog post in 2012 so I bet they\\u2019ve blown past this by now) was on 23 August 2012 with 563 builds and 175 deploys. \", \"[blog post by GitHub]\", \" That\\u2019s 175 deployments to production in a single day on an extremely active application with millions of concurrent users worldwide! No \\u201CUnder Maintenance\\u201D pages. No scheduled outages or deployments. Just ship, ship, ship.\"), mdx(\"p\", null, \"##Why Is All Of This Important?\"), mdx(\"p\", null, \"As small teams that seem to always be increasing the requirements and expectations, we have to find ways to increase our speed while not decreasing our quality. A tough task. Just not decreasing the quality and maintaining the status quo almost isn\\u2019t even an option either. We need to be increasing speed and increasing quality.\"), mdx(\"p\", null, \"How is that even possible? Delegate work to the machines.\"), mdx(\"p\", null, \"Using a rigid and well thought out process for your development can help reduce unknowns which will decrease defects, improve overall quality of your codebase, and enable you to rapidly iterate and deliver to your users. Automating that workflow will speed it up even further. It will also turn your development process from a passive process to an active process. Let the process tell you if things are working or breaking. This allows issues or roadblocks to bubble up to the top sooner and takes the responsibility off a single person to remember to accomplish many separate small tasks.\"), mdx(\"blockquote\", null, mdx(\"p\", {\n    parentName: \"blockquote\"\n  }, \"We have the technology.\")), mdx(\"img\", {\n    \"src\": \"http://media.tumblr.com/f5a498a1efcb2d367f23932456b5b1e0/tumblr_inline_mtp63c5ua31qze6ud.jpg\",\n    \"alt\": \"6 million dollar man\"\n  }), mdx(\"p\", null, \"Make life easier for yourself and your team at the same time as delivering better products to your users! It is possible.\"), mdx(\"h2\", {\n    \"id\": \"our-workflow\"\n  }, \"Our Workflow\"), mdx(\"p\", null, \"We use GitHub for our source control and Travis CI as our hosted continuous integration system. HipChat keeps us connected and aware of action happening within our system and workflow. We also use a modified form of git flow for our branching strategy.\"), mdx(\"p\", null, \"Here is a quick and dirty overview:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Master branch is the latest production release.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Staging branch is the latest feature complete code that has been deployed to the staging application servers and not deployed to production yet.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"A feature branch is branched off of the staging branch and worked on until it is feature complete with accompanying unit and integration tests that verify functionality.\"))), mdx(\"p\", null, \"After a developer has finished the feature in their private feature branch, they initiate a Pull Request on GitHub to merge their feature branch back into the staging branch.\"), mdx(\"p\", null, \"Travis CI captures the pushes to GitHub and the initiation of a Pull Request and runs the tests on the branch. With Travis CI\\u2019s great GitHub integration, we can see right there on the Pull Request view whether or not the tests are passing or failing.\"), mdx(\"p\", null, \"If tests are passing, we do a team wide code review on GitHub by commenting inline on all of the code that will be committed to the staging branch. We cycle through these comments and revisions until everything is good to go and we\\u2019re ready to merge into the staging branch.\"), mdx(\"p\", null, \"Throughout this entire process, pushes to GitHub, comments on code for the code review, passing or failing builds on Travis CI, and every other action related to our code/application/process is pushed to the chatroom in HipChat related to that specific project. Everyone is always up-to-date on what is happening with the project and there are no surprises.\"), mdx(\"p\", null, \"Once the feature branch has passed a code review, has passing tests in CI and has been acceptance tested and accepted by the product owner, we merge it back into staging which then fires off another cycle of integration testing with our CI system.\"), mdx(\"p\", null, \"Once this final build and test cycle completes with a passing status, Travis CI initiates and automatic deploy of the application to our staging environments.\"), mdx(\"p\", null, \"If it is a Rails application, it kicks it off to our staging servers hosted on Heroku and notifies the applicable project room in HipChat of a successful build and Heroku deploy. Enabling the clients to see the latest feature complete build of their application on the web immediately after the feature has been completed.\"), mdx(\"p\", null, \"If it is an iOS or Android application, it will build a binary and automatically deploy to TestFlight and send emails to all of the users on the beta-testing distribution list for that application. Enabling them to download the latest successful build immediately.\"), mdx(\"p\", null, \"It\\u2019s really a fantastic process!\"), mdx(\"p\", null, \"As you can see, there are many checks for quality and functionality from the very beginning of the process all the way to the end. As well as backward/redundant checks to be sure everything that once was still is. And while it seems like a lot of steps, it is all automated! A great process should get out of your way and let you do your work.\"), mdx(\"h2\", {\n    \"id\": \"its-been-a-long-journey\"\n  }, \"It\\u2019s Been A Long Journey\"), mdx(\"p\", null, \"We are really excited about this process and it really enables us to stand by our commitment to delivering quality code to our clients and their users. This process executed well almost completely removes the need for a QA period prior to production release which cuts time and cost for our clients.\"), mdx(\"p\", null, \"Our development process is really what sets us apart from our competitors in the region and we\\u2019re always trying to improve it. If you have a similar process or have any questions or comments, leave us some comments below and we\\u2019d love to talk to you about it.\"), mdx(\"p\", null, \"Ways I see to improve it in the future:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"I am going to develop some dashboards that will always be displayed on a large tv in the office. So we can always see at a glance if a project\\u2019s builds are failing. Or alternately, look up and see green across the board and know we are kicking ass at our job. :)\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"We use Hubot by GitHub as our chat bot and we\\u2019ll be building more Hubot scripts to further automate our workflow.\"))), mdx(\"h2\", {\n    \"id\": \"notes\"\n  }, \"Notes:\"), mdx(\"ul\", null, mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Of course I didn\\u2019t invent the term \\u201CAutomate all the things!\\u201D so credit to whoever that person is.\")), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"Martin Fowler\\u2019s original essay on Continuous Integration: \", mdx(\"a\", _extends({\n    parentName: \"p\"\n  }, {\n    \"href\": \"http://www.martinfowler.com/articles/continuousIntegration.html\"\n  }), \"martinfowler.com/artic....html\"))), mdx(\"li\", {\n    parentName: \"ul\"\n  }, mdx(\"p\", {\n    parentName: \"li\"\n  }, \"\\u2018Automate All The Things\\u2019 may become a running column on our blog about various ways to speed up and improve your workflow.\"))), mdx(\"p\", null, \"[cross post from my company blog]\"));\n}\n;\nMDXContent.isMDXComponent = true;","frontmatter":{"title":"Automate All The Things: Continuous Integration and Deployment at RevUnit","tags":["CI","process","travis ci"],"emoji":"✏️","modified":"September 28, 2013","modifiedTimestamp":"2013-09-28T00:00:00.000Z"},"references":[],"fields":{"slug":"/2013-09-28-automate-all-the-things-continuous-integration-and-continuous-deployment-at-revunit"},"tableOfContents":{"items":[{"url":"#automate-all-the-things","title":"Automate all the things!"},{"url":"#what-is-continuous-integration","title":"What Is Continuous Integration?"},{"url":"#what-is-continuous-deployment","title":"What Is Continuous Deployment?"},{"url":"#our-workflow","title":"Our Workflow"},{"url":"#its-been-a-long-journey","title":"It’s Been A Long Journey"},{"url":"#notes","title":"Notes:"}]},"parent":{"relativePath":"2013-09-28-automate-all-the-things-continuous-integration-and-continuous-deployment-at-revunit.md"}}},"pageContext":{"id":"5e84e5d6-1349-539c-a0e4-98d77f8cb0aa","previous":{"id":"66fc43d9-01ab-51f7-a698-b04daf438c61","frontmatter":{"title":"I finally rewrote my resume. In LaTeX.","tags":["LaTeX","resume"]},"fields":{"slug":"/2012-08-28-i-finally-rewrote-my-resume-in-latex"}},"next":{"id":"d24e0728-f8c4-54ba-8cd8-18891a147c0b","frontmatter":{"title":"How In The Hell Do I Test A Facebook App From localhost?","tags":["facebook","networking","security"]},"fields":{"slug":"/2013-05-15-how-in-the-hell-do-i-test-a-facebook-app-from-localhost"}},"hasUntagged":false,"basePath":"/","tags":[{"tag":"CI","totalCount":1,"slug":"/ci","path":"/tag/ci"},{"tag":"LaTeX","totalCount":1,"slug":"/la-te-x","path":"/tag/la-te-x"},{"tag":"applescript","totalCount":2,"slug":"/applescript","path":"/tag/applescript"},{"tag":"dev culture","totalCount":1,"slug":"/dev-culture","path":"/tag/dev-culture"},{"tag":"facebook","totalCount":1,"slug":"/facebook","path":"/tag/facebook"},{"tag":"git","totalCount":2,"slug":"/git","path":"/tag/git"},{"tag":"iOS","totalCount":2,"slug":"/i-os","path":"/tag/i-os"},{"tag":"interview","totalCount":2,"slug":"/interview","path":"/tag/interview"},{"tag":"ios","totalCount":1,"slug":"/ios","path":"/tag/ios"},{"tag":"jekyll","totalCount":1,"slug":"/jekyll","path":"/tag/jekyll"},{"tag":"lessons-learned","totalCount":1,"slug":"/lessons-learned","path":"/tag/lessons-learned"},{"tag":"networking","totalCount":1,"slug":"/networking","path":"/tag/networking"},{"tag":"objective-c","totalCount":1,"slug":"/objective-c","path":"/tag/objective-c"},{"tag":"osx","totalCount":1,"slug":"/osx","path":"/tag/osx"},{"tag":"process","totalCount":1,"slug":"/process","path":"/tag/process"},{"tag":"protips","totalCount":1,"slug":"/protips","path":"/tag/protips"},{"tag":"resume","totalCount":1,"slug":"/resume","path":"/tag/resume"},{"tag":"safari","totalCount":1,"slug":"/safari","path":"/tag/safari"},{"tag":"security","totalCount":1,"slug":"/security","path":"/tag/security"},{"tag":"spotify","totalCount":1,"slug":"/spotify","path":"/tag/spotify"},{"tag":"talks","totalCount":2,"slug":"/talks","path":"/tag/talks"},{"tag":"travis ci","totalCount":1,"slug":"/travis-ci","path":"/tag/travis-ci"},{"tag":"webdev","totalCount":1,"slug":"/webdev","path":"/tag/webdev"}],"pages":[{"id":"f714b3b8-9df1-505b-afdd-99672e68133d","frontmatter":{"title":"me","tags":null,"emoji":"🧔‍♂️"},"fields":{"slug":"/me"},"slug":"/me","path":"/me"},{"id":"0a535571-7f8c-57da-a35f-34174c35d837","frontmatter":{"title":"PGP","tags":null,"emoji":"🔐"},"fields":{"slug":"/pgp"},"slug":"/pgp","path":"/pgp"}]}},"staticQueryHashes":["1308211557","2744905544","467212769"]}